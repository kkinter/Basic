<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- 부트스트랩 CDN-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  
</head>
<body>
  <h1>index.html</h1>

  <!-- 사용자에게 정보를 입력발을 때,-->
  <!-- form 태그를 사용해야한다 -->
  <!-- action : 어떤 url을 요청할지 -->
  <!-- <form action="{% url 'todos:create' %}" class="mb-3">
    <input type="text" name="content" id="" maxlength="80">
    <input type="submit" value="할 일 추가">
  </form> -->

  <form action="{% url 'todos:create' %}">
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">할 일</span>
      <input type="text" name="content" class="form-control" aria-label="Username" aria-describedby="basic-addon1">
    </div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">우선 순위</span>
      <select class="form-select" name="priority" aria-label="Default select example">
        <option value="1" selected>1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
    </div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">마감 기한</span>
      <input id="startDate" name="deadline" class="form-control" type="date" />
      <!-- <span id="startDateSelected"></span> -->
    </div>
    <div class="d-grid">
      <input type="submit" value="할 일 추가" class="btn btn-outline-primary">
    </div>
    
  </form>
  <hr>
  <!-- <div class="input-group mb-3">
    <span class="input-group-text" id="basic-addon1">할 일</span>
    <input type="text" class="form-control" aria-label="Username" aria-describedby="basic-addon1">
  </div>
  
  <div class="input-group mb-3">
    <span class="input-group-text" id="basic-addon1">우선 순위</span>
    <select class="form-select" aria-label="Default select example">
      <option selected>1</option>
      <option value="1">2</option>
      <option value="2">3</option>
      <option value="3">4</option>
      <option value="4">5</option>
    </select>
  </div> -->
  <!-- <div class="input-group mb-3">
    <span class="input-group-text" id="basic-addon1">마감 기한</span>
    <input id="startDate" class="form-control" type="date" />
    <span id="startDateSelected"></span>
  </div>
   -->
  <hr>
  <!-- DTL for문 사용법 -->
  <!-- <ul>
    {% for todo in todos %}
    <li>{{ todo.id }} - {{ todo.content }} - {{ todo.completed }} - {{ todo.deadline }} - {{ todo.priority }}
      <a href="{% url 'todos:delete' todo.pk %}">  
        <button class="btn btn-danger">삭제</button>
      </a>
      <a href="{% url 'todos:update' todo.pk %}">         
        <button class="btn btn-primary">변경</button>
      </a>
    </li>
    {% endfor %}
  </ul> -->

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">우선 순위</th>
        <th scope="col">할 일</th>
        <th scope="col">생성 날짜</th>
        <th scope="col">마감 기한</th>
        <th scope="col">진행 상태</th>
        <th scope="col">상태 변경</th>
        <th scope="col">삭제</th>
      </tr>
    </thead>
    {% for todo in todos %}
    <tbody>
      

      <th scope="row">{{ todo.priority }}</th>
      <td>{{ todo.content }}</td>
      <td>{{ todo.created_at}}</td>
      <td>{{ todo.deadline}}</td>
      <td>{{ todo.completed}}</td>
      <td>
        <a href="{% url 'todos:update' todo.pk %}">         
          <button class="btn btn-primary">변경</button>
        </a>
      </td>
      <td>
        <a href="{% url 'todos:delete' todo.pk %}">  
          <button class="btn btn-danger">삭제</button>
        </a>
      </td>
      
    </tbody>
    {% endfor %}
  </table>


</body>
<script>
  let startDate = document.getElementById('startDate')

  startDate.addEventListener('change',(e)=>{
    let startDateVal = e.target.value
    document.getElementById('startDateSelected').innerText = startDateVal
  })

</script>
</html>